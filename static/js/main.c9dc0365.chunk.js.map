{"version":3,"sources":["IssueForm.module.scss","Intro.module.scss","en-US.ts","zh-CN.ts","LocaleContext.ts","I18n.tsx","IntroModal.tsx","Intro.tsx","BugForm.tsx","FeatureForm.tsx","PreviewModal.tsx","ReproModal.tsx","createPreview.ts","api.ts","hooks/useSimilarIssues.ts","hooks/useVersions.ts","IssueForm.tsx","App.tsx","index.tsx","App.module.scss"],"names":["module","exports","enMessages","require","window","appLocale","en","messages","locale","data","appLocaleData","zhMessages","zh","LocaleContext","createContextIO","cache","localStorage","getItem","navigator","language","toLowerCase","getLocale","texts","intro","_cacheMdxMacroIntro305a7b9ea8MdJs","introModal","_cacheMdxMacroIntroModal9a7a7e8f9aMdJs","motivationHelp","_cacheMdxMacroMotivationHelp37064a54fdMdJs","proposalHelp","_cacheMdxMacroProposalHelp38cabf152aMdJs","reproHelp","_cacheMdxMacroReproHelp304e1f0acaMdJs","reproModal","_cacheMdxMacroReproModal55a8720677MdJs","stepsHelp","_cacheMdxMacroStepsHelpB94c0a265fMdJs","_cacheMdxMacroIntroCb2c958785MdJs","_cacheMdxMacroIntroModalAebea6c4f4MdJs","_cacheMdxMacroMotivationHelpB594a75c99MdJs","_cacheMdxMacroProposalHelpE3660116c0MdJs","_cacheMdxMacroReproHelpA06f2d040bMdJs","_cacheMdxMacroReproModal1d407f07cdMdJs","_cacheMdxMacroStepsHelpC1337a75f6MdJs","I18n","_ref","id","restProps","React","Text","IntroModal","open","onCancel","Modal","title","FormattedMessage","defaultMessage","footer","width","className","Intro","modalOpen","_setmodalOpen","_useState","introRef","current","addEventListener","e","target","getAttribute","preventDefault","_modalOpen","concat","styles","ref","_modalOpen2","Option","Select","TextArea","Input","BugForm","versions","Form","Item","Row","Col","span","name","label","extra","showSearch","map","version","key","value","offset","rules","required","validator","async","rule","includes","Promise","reject","resolve","type","autoSize","minRows","FormItem","FeatureForm","md","Remarkable","PreviewModal","content","onCreate","cancelText","Button","onClick","dangerouslySetInnerHTML","__html","render","ReproModal","createPreview","issueType","values","react","system","browser","reproduction","steps","expected","actual","repo","link","indexOf","createReproductionLink","trim","createBugPreview","_ref2","motivation","proposal","createFeaturePreview","compareVersions","npmMapping","checkStatus","response","status","Error","statusText","orderVersions","normalVersions","nextVersions","forEach","match","push","sort","a","b","useSimilarIssues","similarIssues","_setsimilarIssues","searchIssues","keyword","q","encodeURIComponent","fetch","then","json","items","api","_issues","_similarIssues","_similarIssues2","useVersions","repoVersions","_setrepoVersions","fetchVersions","useCallback","npmPromise","Object","keys","filter","ver","slice","releases","r","prerelease","tag_name","catch","err","console","warn","_repoVersions","JSON","stringify","params","location","search","split","reduce","acc","param","IssueForm","_setreproModal","form","useForm","getContent","getFieldsValue","setContent","preview","setPreview","triggerPreview","newPreview","getFieldValue","formRef","bindModalHandler","_reproModal","restoreValues","omitFields","arguments","length","undefined","parse","setFieldsValue","setTimeout","currentValues","handleRepoChange","_repoVersions$repo","handleTypeChange","handleTitleBlur","handleCreate","replace","withMarker","body","clear","similarIssuesList","similar","issue","href","html_url","rel","layout","size","initialValues","onFinish","onValuesChange","_","preForm","cacheForm","setItem","_reproModal2","onChange","Radio","Group","radioGroup","onBlur","noStyle","shouldUpdate","prev","next","submitBtn","htmlType","icon","BugOutlined","Header","Content","Footer","Layout","App","localeString","forceUpdateLocale","addLocaleData","Provider","header","headerContainer","logo","alt","src","read","write","switchLocale","IntlProvider","style","textAlign","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c9dc0365.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"submitBtn\":\"IssueForm_submitBtn__2i6iD\",\"radioGroup\":\"IssueForm_radioGroup__3pcx2\",\"similar\":\"IssueForm_similar__32aVZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"intro\":\"Intro_intro__3VhcL\"};","import * as appLocaleData from 'react-intl/locale-data/en';\n\nconst enMessages: any = require('./locales/en.json');\n\n(window as any).appLocale.en = {\n  messages: {\n    ...enMessages,\n  },\n  locale: 'en-US',\n  data: appLocaleData,\n};","import * as appLocaleData from 'react-intl/locale-data/zh';\n\nconst zhMessages: any = require('./locales/zh.json');\n\n(window as any).appLocale.zh = {\n  messages: {\n    ...zhMessages,\n  },\n  locale: 'zh-CN',\n  data: appLocaleData,\n};\n","import { createContextIO } from \"react-context-io\";\n\nfunction getLocale() {\n  const cache = window.localStorage.getItem(\"locale\");\n  if (cache) {\n    return cache;\n  }\n  return window.navigator.language.toLowerCase() === \"zh-cn\" ? \"zh\" : \"en\";\n}\n\nconst LocaleContext = createContextIO<string>(getLocale());\n\nexport function switchLocale(forceUpdateLocale: any) {\n  const locale = LocaleContext.read() === \"en\" ? \"zh\" : \"en\";\n  forceUpdateLocale(locale);\n  LocaleContext.write(locale);\n  window.localStorage.setItem(\"locale\", LocaleContext.read());\n}\n\nexport default LocaleContext;\n","import * as React from \"react\";\nimport { importMDX } from \"mdx.macro\";\nimport LocaleContext from \"./LocaleContext\";\n\nconst texts: any = {\n  en: {\n    intro: importMDX.sync(\"./locales/en/intro.md\"),\n    introModal: importMDX.sync(\"./locales/en/introModal.md\"),\n    motivationHelp: importMDX.sync(\"./locales/en/motivationHelp.md\"),\n    proposalHelp: importMDX.sync(\"./locales/en/proposalHelp.md\"),\n    reproHelp: importMDX.sync(\"./locales/en/reproHelp.md\"),\n    reproModal: importMDX.sync(\"./locales/en/reproModal.md\"),\n    stepsHelp: importMDX.sync(\"./locales/en/stepsHelp.md\")\n  },\n  zh: {\n    intro: importMDX.sync(\"./locales/zh/intro.md\"),\n    introModal: importMDX.sync(\"./locales/zh/introModal.md\"),\n    motivationHelp: importMDX.sync(\"./locales/zh/motivationHelp.md\"),\n    proposalHelp: importMDX.sync(\"./locales/zh/proposalHelp.md\"),\n    reproHelp: importMDX.sync(\"./locales/zh/reproHelp.md\"),\n    reproModal: importMDX.sync(\"./locales/zh/reproModal.md\"),\n    stepsHelp: importMDX.sync(\"./locales/zh/stepsHelp.md\")\n  }\n};\n\nexport interface Props {\n  id: string;\n  [name: string]: any;\n}\n\nconst I18n: React.FC<Props> = ({ id, ...restProps }) => {\n  const locale = React.useContext(LocaleContext);\n  const Text = texts[locale][id];\n\n  return (\n    <div {...restProps}>\n      <Text />\n    </div>\n  );\n};\n\nexport default I18n;\n","import * as React from \"react\";\nimport { Modal } from \"antd\";\nimport { FormattedMessage } from \"react-intl\";\nimport I18n from \"./I18n\";\n\ninterface IntroModalProps {\n  open: boolean;\n  onCancel: () => any;\n}\n\nconst IntroModal: React.FC<IntroModalProps> = ({ open, onCancel }) => (\n  <Modal\n    title={\n      <FormattedMessage\n        id=\"intro.modal\"\n        defaultMessage=\"The reason behind our strict issue policy\"\n      />\n    }\n    footer=\"\"\n    open={open}\n    onCancel={onCancel}\n    width={680}\n  >\n    <I18n className=\"paragraph\" id=\"introModal\" />\n  </Modal>\n);\n\nexport default IntroModal;\n","import * as React from \"react\";\nimport IntroModal from \"./IntroModal\";\nimport I18n from \"./I18n\";\nimport { state } from \"reactive.macro\";\nimport styles from \"./Intro.module.scss\";\n\nconst Intro: React.FC = () => {\n  let modalOpen = state(false);\n  const introRef = React.useRef<null | HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    introRef.current!.addEventListener(\"click\", (e: Event) => {\n      if ((e.target as any).getAttribute(\"href\") === \"#intro-modal\") {\n        e.preventDefault();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        modalOpen = true;\n      }\n    });\n  }, []);\n\n  return (\n    <div className={`${styles.intro} paragraph`} ref={introRef}>\n      <IntroModal open={modalOpen} onCancel={() => (modalOpen = false)} />\n      <I18n id=\"intro\" />\n    </div>\n  );\n};\n\nexport default Intro;\n","import * as React from \"react\";\nimport { Form, Row, Col, Input, Select } from \"antd\";\nimport { FormattedMessage } from \"react-intl\";\nimport I18n from \"./I18n\";\n\nconst { Option } = Select;\nconst { TextArea } = Input;\n\ninterface Props {\n  versions: string[];\n}\n\nconst BugForm: React.FC<Props> = ({ versions }) => (\n  <div>\n    {/* ==================================== Environment ==================================== */}\n    <Form.Item>\n      <Row>\n        <Col span={11}>\n          {/* antd version */}\n          <Form.Item\n            name=\"version\"\n            label={\n              <FormattedMessage id=\"issue.version\" defaultMessage=\"Version\" />\n            }\n            extra={\n              <FormattedMessage\n                id=\"issue.versionHelp\"\n                defaultMessage=\"Check if the issue is reproducible with the latest stable version.\"\n              />\n            }\n          >\n            <Select showSearch>\n              {versions.map(version => (\n                <Option key={version} value={version}>\n                  {version}\n                </Option>\n              ))}\n            </Select>\n          </Form.Item>\n        </Col>\n        <Col span={12} offset={1}>\n          {/* react version */}\n          <Form.Item\n            name=\"react\"\n            rules={[{ required: true }]}\n            label={<FormattedMessage id=\"issue.react\" defaultMessage=\"React\" />}\n            extra={\n              <FormattedMessage\n                id=\"issue.reactHelp\"\n                defaultMessage=\"react/react-native version...\"\n              />\n            }\n          >\n            <Input />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form.Item>\n\n    <Form.Item>\n      <Row>\n        {/* System */}\n        <Col span={11}>\n          <Form.Item\n            name=\"system\"\n            rules={[{ required: true }]}\n            label={\n              <FormattedMessage id=\"issue.system\" defaultMessage=\"System\" />\n            }\n            extra={\n              <FormattedMessage\n                id=\"issue.systemHelp\"\n                defaultMessage=\"System version...\"\n              />\n            }\n          >\n            <Input />\n          </Form.Item>\n        </Col>\n\n        {/* Browser */}\n        <Col span={12} offset={1}>\n          <Form.Item\n            name=\"browser\"\n            rules={[{ required: true }]}\n            label={\n              <FormattedMessage id=\"issue.browser\" defaultMessage=\"Browser\" />\n            }\n            extra={\n              <FormattedMessage\n                id=\"issue.browserHelp\"\n                defaultMessage=\"Browser version...\"\n              />\n            }\n          >\n            <Input />\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form.Item>\n\n    {/* ==================================== Reproduce ==================================== */}\n    <Form.Item\n      name=\"reproduction\"\n      rules={[\n        {\n          required: true,\n          validator: async (rule, value) => {\n            if (!value || value.includes(\"new-issue.ant.design\")) {\n              return Promise.reject(\"Please provide valid reproduction url\");\n            }\n            return Promise.resolve();\n          }\n        }\n      ]}\n      label={\n        <FormattedMessage\n          id=\"issue.reproduction\"\n          defaultMessage=\"Link to minimal reproduction\"\n        />\n      }\n      extra={<I18n id=\"reproHelp\" />}\n    >\n      <Input type=\"url\" />\n    </Form.Item>\n\n    <Form.Item\n      name=\"steps\"\n      rules={[{ required: true }]}\n      label={\n        <FormattedMessage id=\"issue.steps\" defaultMessage=\"Step to reproduce\" />\n      }\n      extra={<I18n id=\"stepsHelp\" />}\n    >\n      <TextArea autoSize={{ minRows: 2 }} />\n    </Form.Item>\n    <Form.Item\n      name=\"expected\"\n      rules={[{ required: true }]}\n      label={\n        <FormattedMessage\n          id=\"issue.expected\"\n          defaultMessage=\"What is expected?\"\n        />\n      }\n    >\n      <TextArea autoSize={{ minRows: 2 }} />\n    </Form.Item>\n    <Form.Item\n      name=\"actual\"\n      rules={[{ required: true }]}\n      label={\n        <FormattedMessage\n          id=\"issue.actually\"\n          defaultMessage=\"What is actually happening?\"\n        />\n      }\n    >\n      <TextArea autoSize={{ minRows: 2 }} />\n    </Form.Item>\n    <Form.Item\n      name=\"extra\"\n      label={\n        <FormattedMessage\n          id=\"issue.extra\"\n          defaultMessage=\"Any additional comments?(optional)\"\n        />\n      }\n      extra={\n        <FormattedMessage\n          id=\"issue.extraHelp\"\n          defaultMessage=\"e.g. some background/context of how you ran into this bug.\"\n        />\n      }\n    >\n      <TextArea autoSize={{ minRows: 2 }} />\n    </Form.Item>\n  </div>\n);\n\nexport default BugForm;\n","import * as React from \"react\";\nimport { Form, Input } from \"antd\";\nimport { FormattedMessage } from \"react-intl\";\nimport I18n from \"./I18n\";\n\nconst FormItem = Form.Item;\nconst { TextArea } = Input;\n\nconst FeatureForm: React.FC<{}> = () => (\n  <>\n    <FormItem\n      name=\"motivation\"\n      rules={[{ required: true }]}\n      label={\n        <FormattedMessage\n          id=\"issue.motivation\"\n          defaultMessage=\"What problem does this feature solve?\"\n        />\n      }\n      extra={<I18n id=\"motivationHelp\" />}\n    >\n      <TextArea autoSize={{ minRows: 2 }} />\n    </FormItem>\n    <FormItem\n      name=\"proposal\"\n      rules={[{ required: true }]}\n      label={\n        <FormattedMessage\n          id=\"issue.proposal\"\n          defaultMessage=\"What does the proposed API look like?\"\n        />\n      }\n      extra={<I18n id=\"proposalHelp\" />}\n    >\n      <TextArea autoSize={{ minRows: 2 }} />\n    </FormItem>\n  </>\n);\n\nexport default FeatureForm;\n","import * as React from \"react\";\nimport { Modal, Button } from \"antd\";\nimport { FormattedMessage } from \"react-intl\";\nimport Remarkable from \"remarkable\";\n\nconst md = new Remarkable();\n\ninterface Props {\n  open: boolean;\n  content: string;\n  onCancel: () => any;\n  onCreate: () => any;\n}\n\nconst PreviewModal: React.FC<Props> = ({\n  open,\n  content,\n  onCancel,\n  onCreate\n}) => (\n  <Modal\n    title={\n      <FormattedMessage\n        id=\"previewModal.title\"\n        defaultMessage=\"Issue Preview\"\n      />\n    }\n    cancelText=\"\"\n    width=\"680px\"\n    open={open}\n    onCancel={onCancel}\n    footer={\n      <Button onClick={onCreate} type=\"primary\">\n        <FormattedMessage id=\"issue.create\" defaultMessage=\"Create\" />\n      </Button>\n    }\n  >\n    <div\n      className=\"paragraph\"\n      dangerouslySetInnerHTML={{ __html: md.render(content) }}\n    />\n  </Modal>\n);\n\nexport default PreviewModal;\n","import * as React from \"react\";\nimport { Modal } from \"antd\";\nimport { FormattedMessage } from \"react-intl\";\nimport I18n from \"./I18n\";\n\ninterface Props {\n  open: boolean;\n  onCancel: () => any;\n}\n\nconst ReproModal: React.FC<Props> = ({ open, onCancel }) => {\n  return (\n    <Modal\n      title={\n        <FormattedMessage\n          id=\"repro.about\"\n          defaultMessage=\"About Reproductions\"\n        />\n      }\n      footer=\"\"\n      open={open}\n      onCancel={onCancel}\n      width=\"680px\"\n    >\n      <I18n className=\"paragraph\" id=\"reproModal\" />\n    </Modal>\n  );\n};\n\nexport default ReproModal;\n","export default function createPreview(issueType: string, values: any) {\n  if (issueType === 'bug') {\n    return createBugPreview(values);\n  }\n  return createFeaturePreview(values);\n}\n\nfunction createBugPreview({\n  version,\n  react,\n  system,\n  browser,\n  reproduction,\n  steps,\n  expected,\n  actual,\n  extra,\n  repo,\n}: any) {\n  return `\n### Reproduction link\n\n${createReproductionLink(reproduction)}\n\n### Steps to reproduce\n\n${steps}\n\n### What is expected?\n\n${expected}\n\n### What is actually happening?\n\n${actual}\n\n| Environment | Info |\n| --- | --- |\n| antd | ${version} |\n| React | ${react} |\n| System | ${system} |\n| Browser | ${browser} |\n\n${extra ? `---\\n${extra}` : ''}\n`.trim();\n}\n\nfunction createFeaturePreview({ motivation, proposal }: any) {\n  return `\n\n### What problem does this feature solve?\n\n${motivation}\n\n### What does the proposed API look like?\n\n${proposal}\n`.trim();\n}\n\nfunction createReproductionLink(link: string) {\n  if (!link) {\n    return;\n  }\n\n  if (link.indexOf('codesandbox.io') >= 0) {\n    return `[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](${link})`;\n  } else if (link.indexOf('stackblitz.com') >= 0) {\n    return `[![Edit on StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](${link})`;\n  }\n\n  return `[${link}](${link})`;\n}\n","const compareVersions: any = require(\"compare-versions\");\n\ninterface Response {\n  status: number;\n  statusText: string;\n  json(): any;\n}\n\nconst npmEndpoint = \"https://registry.npmmirror.com\";\nconst endpoint = \"https://api.github.com\";\n\nconst npmMapping: { [repo: string]: string } = {\n  \"ant-design\": \"antd\"\n};\n\nfunction checkStatus(response: Response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  } else {\n    throw new Error(response.statusText);\n  }\n}\n\nfunction orderVersions(versions: string[]): string[] {\n  const normalVersions: string[] = [];\n  const nextVersions: string[] = [];\n  versions.forEach(version => {\n    if (version.match(/^\\d+\\.\\d+\\.\\d+$/) || version.includes(\"-rc.\")) {\n      normalVersions.push(version);\n    } else {\n      nextVersions.push(version);\n    }\n  });\n\n  return [\n    ...normalVersions.sort((a: string, b: string) => -compareVersions(a, b)),\n    ...nextVersions.sort((a: string, b: string) => -compareVersions(a, b))\n  ];\n}\n\nexport function fetchVersions(repo: string) {\n  const npmPromise = fetch(`${npmEndpoint}/${npmMapping[repo]}`)\n    .then(checkStatus)\n    .then((response: Response) => response.json())\n    .then(({ versions }) =>\n      Object.keys(versions).filter(ver => !ver.includes(\"-\"))\n    )\n    .then(versions => orderVersions(versions))\n    .then(versions => versions.slice(0, 100));\n\n  // We use github versions first, but if failed use npm versions as backup\n  return fetch(`${endpoint}/repos/ant-design/${repo}/releases?per_page=100`)\n    .then(checkStatus)\n    .then((response: Response) => response.json())\n    .then(releases => releases.filter((r: any) => !r.prerelease))\n    .then(releases => releases.map((r: any) => r.tag_name))\n    .then(versions => orderVersions(versions))\n    .catch(err => {\n      console.warn(err);\n      return npmPromise;\n    });\n}\n\nexport function fetchIssues(repo: string, keyword: string) {\n  const q = encodeURIComponent(`is:issue repo:ant-design/${repo} ${keyword}`);\n  return fetch(`${endpoint}/search/issues?q=${q}&per_page=5`)\n    .then(checkStatus)\n    .then((response: Response) => response.json())\n    .then(json => json.items);\n}\n","import * as api from \"../api\";\nimport { state } from \"reactive.macro\";\n\nexport default function useSimilarIssues() {\n  let similarIssues: any[] = state([]);\n\n  const searchIssues = (repo: string, title: string) => {\n    if (title) {\n      api.fetchIssues(repo, title).then(_issues => (similarIssues = _issues));\n    } else {\n      similarIssues = [];\n    }\n  };\n\n  return {\n    similarIssues,\n    searchIssues\n  };\n}\n","import * as api from \"../api\";\nimport { state } from \"reactive.macro\";\nimport { useCallback } from \"react\";\n\nexport default function useVersions() {\n  let repoVersions: { [repo: string]: string[] } = state({});\n\n  const fetchVersions = useCallback(\n    (repo: string) => {\n      api.fetchVersions(repo).then(\n        (versions: string[]) =>\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          (repoVersions = {\n            ...repoVersions,\n            [repo]: versions\n          })\n      );\n    },\n    [JSON.stringify(repoVersions)]\n  );\n\n  return { repoVersions, fetchVersions };\n}\n","import * as React from \"react\";\nimport { Form, Row, Col, Input, Select, Button, Radio } from \"antd\";\nimport { FormattedMessage } from \"react-intl\";\nimport { BugOutlined } from \"@ant-design/icons\";\nimport { state } from \"reactive.macro\";\nimport BugForm from \"./BugForm\";\nimport FeatureForm from \"./FeatureForm\";\nimport PreviewModal from \"./PreviewModal\";\nimport ReproModal from \"./ReproModal\";\nimport createPreview from \"./createPreview\";\nimport useSimilarIssues from \"./hooks/useSimilarIssues\";\nimport useVersions from \"./hooks/useVersions\";\nimport styles from \"./IssueForm.module.scss\";\n\nconst { Option } = Select;\n\nconst params: any = window.location.search\n  .slice(1)\n  .split(\"&\")\n  .reduce((acc, param) => {\n    const [key, value] = param.split(\"=\");\n    return { ...acc, [key]: value };\n  }, {}); // tslint:disable-line\n\nif (!params.repo) {\n  params.repo = \"ant-design\";\n}\n\nconst IssueForm: React.FC<{}> = () => {\n  let reproModal = state(false);\n\n  const [form] = Form.useForm();\n\n  const getContent = React.useCallback(\n    (type: string) => createPreview(type, form.getFieldsValue()),\n    [form]\n  );\n\n  const [content, setContent] = React.useState(\"\");\n  const [preview, setPreview] = React.useState(false);\n  const triggerPreview = (newPreview: boolean) => {\n    setContent(getContent(form.getFieldValue(\"type\")));\n    setPreview(newPreview);\n  };\n\n  const formRef = React.useRef<HTMLDivElement | null>(null);\n  const { similarIssues, searchIssues } = useSimilarIssues();\n  const { repoVersions, fetchVersions } = useVersions();\n\n  const bindModalHandler = React.useCallback(() => {\n    formRef.current!.addEventListener(\"click\", (e: Event) => {\n      if ((e.target as any).getAttribute(\"href\") === \"#repro-modal\") {\n        e.preventDefault();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        reproModal = true;\n      }\n    });\n  }, []);\n\n  // Load form data from localStorage\n  const restoreValues = React.useCallback(\n    (omitFields: Array<string> = []) => {\n      const cache = localStorage.getItem(\"form\");\n      if (cache) {\n        const values = JSON.parse(cache);\n        const keys = Object.keys(values);\n\n        // Remove unless fields\n        omitFields.forEach(key => {\n          delete values[key];\n        });\n\n        if (values.type) {\n          form.setFieldsValue({\n            type: values.type\n          });\n        }\n\n        // Next frame (IE 9 not support RAF)\n        setTimeout(() => {\n          // Remove useless value\n          const currentValues = form.getFieldsValue();\n          keys.forEach(key => {\n            if (!(key in currentValues)) {\n              delete values[key];\n            }\n          });\n          form.setFieldsValue(values);\n        }, 100);\n      }\n    },\n    [form]\n  );\n\n  const handleRepoChange = React.useCallback(\n    (repo: string) => {\n      if (!repoVersions[repo]) {\n        fetchVersions(repo);\n      }\n      form.setFieldsValue({\n        version: repoVersions?.[repo]?.[0]\n      });\n    },\n    [form, fetchVersions, repoVersions]\n  );\n\n  const handleTypeChange = React.useCallback(() => {\n    restoreValues([\"type\"]);\n  }, [restoreValues]);\n\n  const handleTitleBlur = React.useCallback(() => {\n    const repo = form.getFieldValue(\"repo\");\n    const title = form.getFieldValue(\"title\");\n    searchIssues(repo, title);\n  }, [form, searchIssues]);\n\n  const handleCreate = React.useCallback(() => {\n    const issueType = form.getFieldValue(\"type\");\n    const repo = form.getFieldValue(\"repo\");\n    const title = encodeURIComponent(form.getFieldValue(\"title\")).replace(\n      /%2B/gi,\n      \"+\"\n    );\n    const withMarker = `${getContent(\n      issueType\n    )}\\n\\n<!-- generated by ant-design-issue-helper. DO NOT REMOVE -->`;\n    const body = encodeURIComponent(withMarker).replace(/%2B/gi, \"+\");\n    const label =\n      issueType === \"feature\" ? \"&labels=💡%20Feature%20Request\" : \"\";\n\n    localStorage.clear();\n\n    window.open(\n      `https://github.com/ant-design/${repo}/issues/new?title=${title}&body=${body}${label}`\n    );\n  }, [form, getContent]);\n\n  React.useEffect(() => {\n    fetchVersions(params.repo);\n    bindModalHandler();\n    restoreValues();\n  }, [fetchVersions, bindModalHandler, restoreValues]);\n\n  const repo = form.getFieldValue(\"repo\");\n  const versions = repoVersions[repo] || [];\n\n  const similarIssuesList = (\n    <Form.Item className={styles.similar}>\n      <h3>Similar Issues:</h3>\n      <ul>\n        {similarIssues.map(issue => (\n          <li key={issue.id}>\n            <a href={issue.html_url} target=\"_blank\" rel=\"noreferrer noopener\">\n              {issue.title}\n            </a>\n          </li>\n        ))}\n      </ul>\n    </Form.Item>\n  );\n\n  return (\n    <div ref={formRef}>\n      <Form\n        form={form}\n        layout=\"vertical\"\n        size=\"large\"\n        initialValues={{\n          repo: params.repo,\n          type: \"bug\",\n          version: versions[0]\n        }}\n        onFinish={() => {\n          triggerPreview(true);\n        }}\n        onValuesChange={(_, values) => {\n          let preForm = {};\n          try {\n            preForm = JSON.parse(localStorage.getItem(\"form\") as string) || {};\n          } catch (err) {\n            // Do nothing\n          }\n          const cacheForm: any = {\n            ...preForm\n          };\n          Object.keys(values).forEach(key => {\n            if (values[key]) {\n              cacheForm[key] = values[key];\n            }\n          });\n          localStorage.setItem(\"form\", JSON.stringify(cacheForm, null, 2));\n        }}\n      >\n        <PreviewModal\n          open={preview}\n          content={content}\n          onCancel={() => {\n            triggerPreview(false);\n          }}\n          onCreate={handleCreate}\n        />\n        <ReproModal open={reproModal} onCancel={() => (reproModal = false)} />\n        <Row>\n          <Col span={11}>\n            <Form.Item\n              name=\"repo\"\n              label={\n                <FormattedMessage\n                  id=\"issue.repo\"\n                  defaultMessage=\"I am opening an issue for\"\n                />\n              }\n              extra={\n                <FormattedMessage\n                  id=\"issue.repoHelp\"\n                  defaultMessage=\"Please make sure to file the issue at appropriate repo.\"\n                />\n              }\n            >\n              <Select onChange={handleRepoChange}>\n                <Option value=\"ant-design\">ant-design</Option>\n              </Select>\n            </Form.Item>\n          </Col>\n          <Col span={12} offset={1}>\n            <Form.Item\n              name=\"type\"\n              label={\n                <FormattedMessage id=\"issue.type\" defaultMessage=\"This is a\" />\n              }\n            >\n              <Radio.Group\n                onChange={handleTypeChange}\n                className={styles.radioGroup}\n              >\n                <Radio.Button value=\"bug\">\n                  <FormattedMessage\n                    id=\"issue.type.bug\"\n                    defaultMessage=\"Bug Report\"\n                  />\n                </Radio.Button>\n                <Radio.Button value=\"feature\">\n                  <FormattedMessage\n                    id=\"issue.type.feature\"\n                    defaultMessage=\"Feature Request\"\n                  />\n                </Radio.Button>\n              </Radio.Group>\n            </Form.Item>\n          </Col>\n        </Row>\n        <Form.Item\n          name=\"title\"\n          label={<FormattedMessage id=\"issue.title\" defaultMessage=\"Title\" />}\n          rules={[{ required: true }]}\n        >\n          <Input onBlur={handleTitleBlur} />\n        </Form.Item>\n        {similarIssues.length > 0 && similarIssuesList}\n        <Form.Item\n          noStyle\n          shouldUpdate={(prev, next) => prev.type !== next.type}\n        >\n          {() =>\n            form.getFieldValue(\"type\") === \"feature\" ? (\n              <FeatureForm />\n            ) : (\n              <BugForm versions={versions} />\n            )\n          }\n        </Form.Item>\n        <Form.Item>\n          <div className={styles.submitBtn}>\n            <Button\n              type=\"primary\"\n              size=\"large\"\n              htmlType=\"submit\"\n              icon={<BugOutlined />}\n            >\n              <FormattedMessage id=\"issue.preview\" defaultMessage=\"Preview\" />\n            </Button>\n          </div>\n        </Form.Item>\n      </Form>\n    </div>\n  );\n};\n\nexport default IssueForm;\n","import * as React from \"react\";\nimport { IntlProvider, addLocaleData } from \"react-intl\";\nimport { Layout, Button } from \"antd\";\nimport Intro from \"./Intro\";\nimport IssueForm from \"./IssueForm\";\nimport LocaleContext, { switchLocale } from \"./LocaleContext\";\nimport styles from \"./App.module.scss\";\n\nconst { Header, Content, Footer } = Layout;\n\nconst App: React.FC = () => {\n  const locale = React.useContext(LocaleContext);\n  const [localeString, forceUpdateLocale] = React.useState(locale);\n\n  const appLocale = window.appLocale[localeString];\n  addLocaleData(appLocale.data);\n\n  return (\n    <LocaleContext.Provider>\n      <Layout className={styles.layout}>\n        <Header className={styles.header}>\n          <div className={styles.headerContainer}>\n            <div className={styles.logo}>\n              <img\n                alt=\"logo\"\n                src=\"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg\"\n              />\n              <h1>Ant Design Issue Helper</h1>\n            </div>\n            <div className={styles.locale}>\n              <Button\n                size=\"small\"\n                onClick={() => switchLocale(forceUpdateLocale)}\n              >\n                {localeString === \"en\" ? \"中文\" : \"English\"}\n              </Button>\n            </div>\n          </div>\n        </Header>\n        <IntlProvider locale={localeString} messages={appLocale.messages}>\n          <Content className={styles.content}>\n            <Intro />\n            <IssueForm />\n          </Content>\n        </IntlProvider>\n        <Footer style={{ textAlign: \"center\" }}>\n          Inspired by{\" \"}\n          <a\n            href=\"https://new-issue.vuejs.org/\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Vue Issue Helper\n          </a>{\" \"}\n          ·{\" \"}\n          <a href=\"https://github.com/ant-design/antd-issue-helper\">\n            Source Code\n          </a>\n        </Footer>\n      </Layout>\n    </LocaleContext.Provider>\n  );\n};\n\nexport default App;\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport \"./en-US\";\nimport \"./zh-CN\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\") as HTMLElement);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"App_layout__11VGl\",\"header\":\"App_header__2L3DO\",\"headerContainer\":\"App_headerContainer__3EsT6\",\"logo\":\"App_logo__2qPv-\",\"content\":\"App_content__1Wt3K\"};"],"sourceRoot":""}