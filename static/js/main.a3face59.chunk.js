(this["webpackJsonpantd-issue-helper"]=this["webpackJsonpantd-issue-helper"]||[]).push([[0],{126:function(e,t,a){e.exports={submitBtn:"IssueForm_submitBtn__2i6iD",radioGroup:"IssueForm_radioGroup__3pcx2",similar:"IssueForm_similar__32aVZ"}},146:function(e,t){},168:function(e,t,a){e.exports={intro:"Intro_intro__3VhcL"}},180:function(e,t,a){e.exports=a(294)},185:function(e){e.exports=JSON.parse('{"intro.modal":"the reason behind our strict policy issue","issue.create":"Create","issue.actually":"What is actually happening?","issue.type":"This is a","issue.expected":"What is expected?","issue.type.bug":"Bug report","issue.extra":"Any additional comments? (optional)","issue.type.feature":"Feature Request","issue.motivation":"What problem does this feature solve?","issue.extraHelp":"e.g. some background/context of how you ran into this bug.","issue.title":"Title","issue.repo":"I am opening an issue for","issue.preview":"Preview and Submit","issue.proposal":"What does the proposed API look like?","issue.repoHelp":"Please make sure to file the issue at appropriate repo.","issue.reproduction":"Link to minimal reproduction","issue.steps":"Step to reproduce","issue.version":"Version","issue.versionHelp":"Check if the issue is reproducible with the latest stable version.","previewModal.title":"Preview Issue","repro.about":"About Reproductions"}')},186:function(e){e.exports=JSON.parse('{"intro.modal":"\u4e3a\u4ec0\u4e48\u8981\u6709\u8fd9\u4e48\u4e25\u683c\u7684 issue \u89c4\u5b9a","issue.create":"\u521b\u5efa","issue.react":"React","issue.reactHelp":"react / react-native \u7248\u672c","issue.browser":"\u6d4f\u89c8\u5668","issue.browserHelp":"\u6d4f\u89c8\u5668\u7248\u672c","issue.system":"\u7cfb\u7edf","issue.systemHelp":"\u7cfb\u7edf\u7248\u672c","issue.actually":"\u5b9e\u9645\u7684\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f","issue.type":"\u6211\u8981","issue.expected":"\u671f\u671b\u7684\u7ed3\u679c\u662f\u4ec0\u4e48\uff1f","issue.type.bug":"\u62a5\u544a\u4e00\u4e2a Bug","issue.extra":"\u8865\u5145\u8bf4\u660e\uff08\u53ef\u9009\uff09","issue.type.feature":"\u8bf7\u6c42\u589e\u52a0/\u6539\u8fdb\u529f\u80fd","issue.motivation":"\u8fd9\u4e2a\u529f\u80fd\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898\uff1f","issue.extraHelp":"\u6bd4\u5982\uff1a\u9047\u5230\u8fd9\u4e2a bug \u7684\u4e1a\u52a1\u573a\u666f\u3001\u4e0a\u4e0b\u6587\u3002","issue.title":"Issue \u6807\u9898","issue.repo":"\u76f8\u5173\u4ed3\u5e93","issue.preview":"\u9884\u89c8\u548c\u53d1\u5e03","issue.proposal":"\u4f60\u671f\u671b\u7684 API \u662f\u600e\u6837\u7684\uff1f","issue.repoHelp":"\u8bf7\u786e\u4fdd\u5c06 issue \u53d1\u5f80\u76f8\u5173\u7684\u4ed3\u5e93\u3002","issue.reproduction":"\u91cd\u73b0\u94fe\u63a5","issue.steps":"\u91cd\u73b0\u6b65\u9aa4","issue.version":"\u7248\u672c","issue.versionHelp":"\u8bf7\u68c0\u67e5\u95ee\u9898\u662f\u5426\u5b58\u5728\u4e8e\u6700\u65b0\u7248\u672c\u4e2d\u3002","previewModal.title":"Issue \u9884\u89c8","repro.about":"\u5173\u4e8e\u91cd\u73b0"}')},194:function(e,t){},200:function(e,t){},293:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(51),r=a(144);const l=a(185);window.appLocale.en={messages:{...l},locale:"en-US",data:r};var o=a(145);const i=a(186);window.appLocale.zh={messages:{...i},locale:"zh-CN",data:o};var u=a(23),c=a(307),p=a(70),m=a(304),d=a(148),E=a(149),h=a(150),g=a(151),f=a(152),v=a(153),b=a(154),y=a(155),w=a(156),x=a(157),I=a(158),C=a(159),k=a(160),S=a(161),M=a(162);const _=Object(M.a)(function(){const e=window.localStorage.getItem("locale");return e||("zh-cn"===window.navigator.language.toLowerCase()?"zh":"en")}());var H=_;const V={en:{intro:S.a,introModal:k.a,motivationHelp:C.a,proposalHelp:I.a,reproHelp:x.a,reproModal:w.a,stepsHelp:y.a},zh:{intro:b.a,introModal:v.a,motivationHelp:f.a,proposalHelp:g.a,reproHelp:h.a,reproModal:E.a,stepsHelp:d.a}};var O=e=>{let{id:t,...a}=e;const n=s.useContext(H),r=V[n][t];return s.createElement("div",a,s.createElement(r,null))};var $=e=>{let{open:t,onCancel:a}=e;return s.createElement(m.a,{title:s.createElement(u.a,{id:"intro.modal",defaultMessage:"The reason behind our strict issue policy"}),footer:"",open:t,onCancel:a,width:680},s.createElement(O,{className:"paragraph",id:"introModal"}))},F=a(168),R=a.n(F);var N=()=>{const[e,t]=Object(s.useState)(!1),a=s.useRef(null);return s.useEffect(()=>{a.current.addEventListener("click",e=>{"#intro-modal"===e.target.getAttribute("href")&&(e.preventDefault(),t(e=>!0))})},[]),s.createElement("div",{className:R.a.intro+" paragraph",ref:a},s.createElement($,{open:e,onCancel:()=>t(e=>!1)}),s.createElement(O,{id:"intro"}))},z=a(305),A=a(303),j=a(301),q=a(302),B=a(309),P=a(306),T=a(308);const{Option:W}=z.a,{TextArea:L}=P.a;var J=e=>{let{versions:t}=e;return s.createElement("div",null,s.createElement(A.a.Item,null,s.createElement(j.a,null,s.createElement(q.a,{span:11},s.createElement(A.a.Item,{name:"version",label:s.createElement(u.a,{id:"issue.version",defaultMessage:"Version"}),extra:s.createElement(u.a,{id:"issue.versionHelp",defaultMessage:"Check if the issue is reproducible with the latest stable version."})},s.createElement(z.a,{showSearch:!0},t.map(e=>s.createElement(W,{key:e,value:e},e))))),s.createElement(q.a,{span:12,offset:1},s.createElement(A.a.Item,{name:"react",rules:[{required:!0}],label:s.createElement(u.a,{id:"issue.react",defaultMessage:"React"}),extra:s.createElement(u.a,{id:"issue.reactHelp",defaultMessage:"react/react-native version..."})},s.createElement(P.a,null))))),s.createElement(A.a.Item,null,s.createElement(j.a,null,s.createElement(q.a,{span:11},s.createElement(A.a.Item,{name:"system",rules:[{required:!0}],label:s.createElement(u.a,{id:"issue.system",defaultMessage:"System"}),extra:s.createElement(u.a,{id:"issue.systemHelp",defaultMessage:"System version..."})},s.createElement(P.a,null))),s.createElement(q.a,{span:12,offset:1},s.createElement(A.a.Item,{name:"browser",rules:[{required:!0}],label:s.createElement(u.a,{id:"issue.browser",defaultMessage:"Browser"}),extra:s.createElement(u.a,{id:"issue.browserHelp",defaultMessage:"Browser version..."})},s.createElement(P.a,null))))),s.createElement(A.a.Item,{name:"reproduction",rules:[{required:!0,validator:async(e,t)=>!t||t.includes("new-issue.ant.design")?Promise.reject("Please provide valid reproduction url"):Promise.resolve()}],label:s.createElement(u.a,{id:"issue.reproduction",defaultMessage:"Link to minimal reproduction"}),extra:s.createElement(O,{id:"reproHelp"})},s.createElement(P.a,{type:"url"})),s.createElement(A.a.Item,{name:"steps",rules:[{required:!0}],label:s.createElement(u.a,{id:"issue.steps",defaultMessage:"Step to reproduce"}),extra:s.createElement(O,{id:"stepsHelp"})},s.createElement(L,{autoSize:{minRows:2}})),s.createElement(A.a.Item,{name:"expected",rules:[{required:!0}],label:s.createElement(u.a,{id:"issue.expected",defaultMessage:"What is expected?"})},s.createElement(L,{autoSize:{minRows:2}})),s.createElement(A.a.Item,{name:"actual",rules:[{required:!0}],label:s.createElement(u.a,{id:"issue.actually",defaultMessage:"What is actually happening?"})},s.createElement(L,{autoSize:{minRows:2}})),s.createElement(A.a.Item,{name:"extra",label:s.createElement(u.a,{id:"issue.extra",defaultMessage:"Any additional comments?(optional)"}),extra:s.createElement(u.a,{id:"issue.extraHelp",defaultMessage:"e.g. some background/context of how you ran into this bug."})},s.createElement(L,{autoSize:{minRows:2}})))};const D=A.a.Item,{TextArea:G}=P.a;var U=()=>s.createElement(s.Fragment,null,s.createElement(D,{name:"motivation",rules:[{required:!0}],label:s.createElement(u.a,{id:"issue.motivation",defaultMessage:"What problem does this feature solve?"}),extra:s.createElement(O,{id:"motivationHelp"})},s.createElement(G,{autoSize:{minRows:2}})),s.createElement(D,{name:"proposal",rules:[{required:!0}],label:s.createElement(u.a,{id:"issue.proposal",defaultMessage:"What does the proposed API look like?"}),extra:s.createElement(O,{id:"proposalHelp"})},s.createElement(G,{autoSize:{minRows:2}}))),K=a(171);const Z=new(a.n(K).a);var Q=e=>{let{open:t,content:a,onCancel:n,onCreate:r}=e;return s.createElement(m.a,{title:s.createElement(u.a,{id:"previewModal.title",defaultMessage:"Issue Preview"}),cancelText:"",width:"680px",open:t,onCancel:n,footer:s.createElement(p.a,{onClick:r,type:"primary"},s.createElement(u.a,{id:"issue.create",defaultMessage:"Create"}))},s.createElement("div",{className:"paragraph",dangerouslySetInnerHTML:{__html:Z.render(a)}}))};var X=e=>{let{open:t,onCancel:a}=e;return s.createElement(m.a,{title:s.createElement(u.a,{id:"repro.about",defaultMessage:"About Reproductions"}),footer:"",open:t,onCancel:a,width:"680px"},s.createElement(O,{className:"paragraph",id:"reproModal"}))};function Y(e,t){return"bug"===e?function(e){let{version:t,react:a,system:s,browser:n,reproduction:r,steps:l,expected:o,actual:i,extra:u,repo:c}=e;return`\n### Reproduction link\n\n${function(e){if(!e)return;if(e.indexOf("codesandbox.io")>=0)return`[![Edit on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](${e})`;if(e.indexOf("stackblitz.com")>=0)return`[![Edit on StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](${e})`;return`[${e}](${e})`}(r)}\n\n### Steps to reproduce\n\n${l}\n\n### What is expected?\n\n${o}\n\n### What is actually happening?\n\n${i}\n\n| Environment | Info |\n| --- | --- |\n| antd | ${t} |\n| React | ${a} |\n| System | ${s} |\n| Browser | ${n} |\n\n${u?"---\n"+u:""}\n`.trim()}(t):function(e){let{motivation:t,proposal:a}=e;return`\n\n### What problem does this feature solve?\n\n${t}\n\n### What does the proposed API look like?\n\n${a}\n`.trim()}(t)}const ee=a(265),te={"ant-design":"antd"};function ae(e){if(e.status>=200&&e.status<300)return e;throw new Error(e.statusText)}function se(e){const t=[],a=[];return e.forEach(e=>{e.match(/^\d+\.\d+\.\d+$/)||e.includes("-rc.")?t.push(e):a.push(e)}),[...t.sort((e,t)=>-ee(e,t)),...a.sort((e,t)=>-ee(e,t))]}function ne(){const[e,t]=Object(s.useState)([]);return{similarIssues:e,searchIssues:(e,a)=>{a?function(e,t){const a=encodeURIComponent(`is:issue repo:ant-design/${e} ${t}`);return fetch(`https://api.github.com/search/issues?q=${a}&per_page=5`).then(ae).then(e=>e.json()).then(e=>e.items)}(e,a).then(e=>t(t=>e)):t(e=>[])}}}function re(){const[e,t]=Object(s.useState)({});return{repoVersions:e,fetchVersions:Object(s.useCallback)(e=>{(function(e){const t=fetch("https://registry.npmmirror.com/"+te[e]).then(ae).then(e=>e.json()).then(e=>{let{versions:t}=e;return Object.keys(t).filter(e=>!e.includes("-"))}).then(e=>se(e)).then(e=>e.slice(0,100));return fetch(`https://api.github.com/repos/ant-design/${e}/releases?per_page=100`).then(ae).then(e=>e.json()).then(e=>e.filter(e=>!e.prerelease)).then(e=>e.map(e=>e.tag_name)).then(e=>se(e)).catch(e=>(console.warn(e),t))})(e).then(a=>t(t=>({...t,[e]:a})))},[JSON.stringify(e)])}}var le=a(126),oe=a.n(le);const{Option:ie}=z.a,ue=window.location.search.slice(1).split("&").reduce((e,t)=>{const[a,s]=t.split("=");return{...e,[a]:s}},{});ue.repo||(ue.repo="ant-design");var ce=()=>{const[e,t]=Object(s.useState)(!1),[a]=A.a.useForm(),n=s.useCallback(e=>Y(e,a.getFieldsValue()),[a]),[r,l]=s.useState(""),[o,i]=s.useState(!1),c=e=>{l(n(a.getFieldValue("type"))),i(e)},m=s.useRef(null),{similarIssues:d,searchIssues:E}=ne(),{repoVersions:h,fetchVersions:g}=re(),f=s.useCallback(()=>{m.current.addEventListener("click",e=>{"#repro-modal"===e.target.getAttribute("href")&&(e.preventDefault(),t(e=>!0))})},[]),v=s.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=localStorage.getItem("form");if(t){const s=JSON.parse(t),n=Object.keys(s);e.forEach(e=>{delete s[e]}),s.type&&a.setFieldsValue({type:s.type}),setTimeout(()=>{const e=a.getFieldsValue();n.forEach(t=>{t in e||delete s[t]}),a.setFieldsValue(s)},100)}}),[a]),b=s.useCallback(e=>{var t;h[e]||g(e),a.setFieldsValue({version:null===h||void 0===h||null===(t=h[e])||void 0===t?void 0:t[0]})},[a,g,h]),y=s.useCallback(()=>{v(["type"])},[v]),w=s.useCallback(()=>{const e=a.getFieldValue("repo"),t=a.getFieldValue("title");E(e,t)},[a,E]),x=s.useCallback(()=>{const e=a.getFieldValue("type"),t=a.getFieldValue("repo"),s=encodeURIComponent(a.getFieldValue("title")).replace(/%2B/gi,"+"),r=n(e)+"\n\n\x3c!-- generated by ant-design-issue-helper. DO NOT REMOVE --\x3e",l=encodeURIComponent(r).replace(/%2B/gi,"+"),o="feature"===e?"&labels=\ud83d\udca1%20Feature%20Request":"";localStorage.clear(),window.open(`https://github.com/ant-design/${t}/issues/new?title=${s}&body=${l}${o}`)},[a,n]);s.useEffect(()=>{g(ue.repo),f(),v()},[g,f,v]);const I=a.getFieldValue("repo"),C=h[I]||[],k=s.createElement(A.a.Item,{className:oe.a.similar},s.createElement("h3",null,"Similar Issues:"),s.createElement("ul",null,d.map(e=>s.createElement("li",{key:e.id},s.createElement("a",{href:e.html_url,target:"_blank",rel:"noreferrer noopener"},e.title)))));return s.createElement("div",{ref:m},s.createElement(A.a,{form:a,layout:"vertical",size:"large",initialValues:{repo:ue.repo,type:"bug",version:C[0]},onFinish:()=>{c(!0)},onValuesChange:(e,t)=>{let a={};try{a=JSON.parse(localStorage.getItem("form"))||{}}catch(n){}const s={...a};Object.keys(t).forEach(e=>{t[e]&&(s[e]=t[e])}),localStorage.setItem("form",JSON.stringify(s,null,2))}},s.createElement(Q,{open:o,content:r,onCancel:()=>{c(!1)},onCreate:x}),s.createElement(X,{open:e,onCancel:()=>t(e=>!1)}),s.createElement(j.a,null,s.createElement(q.a,{span:11},s.createElement(A.a.Item,{name:"repo",label:s.createElement(u.a,{id:"issue.repo",defaultMessage:"I am opening an issue for"}),extra:s.createElement(u.a,{id:"issue.repoHelp",defaultMessage:"Please make sure to file the issue at appropriate repo."})},s.createElement(z.a,{onChange:b},s.createElement(ie,{value:"ant-design"},"ant-design")))),s.createElement(q.a,{span:12,offset:1},s.createElement(A.a.Item,{name:"type",label:s.createElement(u.a,{id:"issue.type",defaultMessage:"This is a"})},s.createElement(B.a.Group,{onChange:y,className:oe.a.radioGroup},s.createElement(B.a.Button,{value:"bug"},s.createElement(u.a,{id:"issue.type.bug",defaultMessage:"Bug Report"})),s.createElement(B.a.Button,{value:"feature"},s.createElement(u.a,{id:"issue.type.feature",defaultMessage:"Feature Request"})))))),s.createElement(A.a.Item,{name:"title",label:s.createElement(u.a,{id:"issue.title",defaultMessage:"Title"}),rules:[{required:!0}]},s.createElement(P.a,{onBlur:w})),d.length>0&&k,s.createElement(A.a.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.type!==t.type},()=>"feature"===a.getFieldValue("type")?s.createElement(U,null):s.createElement(J,{versions:C})),s.createElement(A.a.Item,null,s.createElement("div",{className:oe.a.submitBtn},s.createElement(p.a,{type:"primary",size:"large",htmlType:"submit",icon:s.createElement(T.a,null)},s.createElement(u.a,{id:"issue.preview",defaultMessage:"Preview"}))))))},pe=a(79),me=a.n(pe);const{Header:de,Content:Ee,Footer:he}=c.a;var ge=()=>{const e=s.useContext(H),[t,a]=s.useState(e),n=window.appLocale[t];return Object(u.c)(n.data),s.createElement(H.Provider,null,s.createElement(c.a,{className:me.a.layout},s.createElement(de,{className:me.a.header},s.createElement("div",{className:me.a.headerContainer},s.createElement("div",{className:me.a.logo},s.createElement("img",{alt:"logo",src:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg"}),s.createElement("h1",null,"Ant Design Issue Helper")),s.createElement("div",{className:me.a.locale},s.createElement(p.a,{size:"small",onClick:()=>function(e){const t="en"===_.read()?"zh":"en";e(t),_.write(t),window.localStorage.setItem("locale",_.read())}(a)},"en"===t?"\u4e2d\u6587":"English")))),s.createElement(u.b,{locale:t,messages:n.messages},s.createElement(Ee,{className:me.a.content},s.createElement(N,null),s.createElement(ce,null))),s.createElement(he,{style:{textAlign:"center"}},"Inspired by"," ",s.createElement("a",{href:"https://new-issue.vuejs.org/",target:"_blank",rel:"noopener noreferrer"},"Vue Issue Helper")," ","\xb7"," ",s.createElement("a",{href:"https://github.com/ant-design/antd-issue-helper"},"Source Code"))))};a(293);n.render(s.createElement(ge,null),document.getElementById("root"))},79:function(e,t,a){e.exports={layout:"App_layout__11VGl",header:"App_header__2L3DO",headerContainer:"App_headerContainer__3EsT6",logo:"App_logo__2qPv-",content:"App_content__1Wt3K"}}},[[180,1,2]]]);
//# sourceMappingURL=main.a3face59.chunk.js.map